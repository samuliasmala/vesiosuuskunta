import{j as F,r as f,R,a as S}from"./vendor.8a70a102.js";const k=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function o(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerpolicy&&(r.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?r.credentials="include":t.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(t){if(t.ep)return;t.ep=!0;const r=o(t);fetch(t.href,r)}};k();function P(i,n,o,l){const t="4";if(i=i.replace(/\D/g,""),i.length!==16)throw new Error("Incorrect account number, must contain 16 digits");let[r,a]=n.toFixed(2).split(".");if(r=r.padStart(6,"0"),r.length>6)throw new Error("Price must be under million euros");const c="000",u=o.padStart(20,"0");if(u.length>20)throw new Error("Refence maximum length is 20 digits");const m=l.toISOString().slice(2,10).replace(/-/g,"");return t+i+r+a+c+u+m}const e=F.exports.jsx,d=F.exports.jsxs;function I(){var C,E,w;const i=window.location.search,n=new URLSearchParams(i),[o,l]=f.exports.useState((E=(C=n.get("prevCount"))==null?void 0:C.replace(",","."))!=null?E:""),[t,r]=f.exports.useState(""),[a,c]=f.exports.useState((w=n.get("ref"))!=null?w:""),u=1.65,m=40,v="Pinsi\xF6n alueen vesiosuuskunta",b="FI50 1158 3000 2082 41",A=new Date("2022-05-31"),N="31.05.2022",y=t===""||o===""?0:Number(t)-Number(o),g=u*y,h=g+m;let p;try{p=P(b,h,a,A)}catch{p=""}return e("div",{className:"App",children:d("div",{className:"container",children:[e("h1",{children:"Pinsi\xF6n alueen vesiosuuskunnan vesilaskuri"}),d(s,{name:"prevAmount",text:"Edellinen lukema: ",type:"number",value:o,setValue:l,children:["m",e("sup",{children:"3"})]}),d(s,{name:"currAmount",text:"Nykyinen lukema: ",type:"number",value:t,setValue:r,children:["m",e("sup",{children:"3"})]}),d(s,{name:"usage",text:"Kulutus: ",type:"number",value:y,disabled:!0,children:["m",e("sup",{children:"3"})]}),d(s,{name:"unitPrice",text:"Veden yksikk\xF6hinta: ",type:"number",value:u,constant:!0,decimals:2,children:["\u20AC/m",e("sup",{children:"3"})]}),e(s,{name:"waterFee",text:"Veden hinta: ",type:"number",value:g,disabled:!0,decimals:2,children:"\u20AC"}),e(s,{name:"baseFee",text:"Perusmaksu: ",type:"number",value:m,constant:!0,decimals:2,children:"\u20AC"}),e(s,{name:"totalFee",text:"Yhteens\xE4: ",type:"number",value:h,disabled:!0,decimals:2,children:"\u20AC"}),e("hr",{}),e("h2",{children:"Laskun tiedot"}),e(s,{name:"receiver",text:"Saaja: ",type:"text",value:v,constant:!0,wideCol:!0}),e(s,{name:"account",text:"Tilinumero: ",type:"text",value:b,constant:!0,wideCol:!0}),e(s,{name:"totalFeeInvoice",text:"Summa: ",type:"number",value:h,disabled:!0,decimals:2,children:"\u20AC"}),e(s,{name:"dueDate",text:"Er\xE4p\xE4iv\xE4: ",type:"text",value:N,constant:!0}),e(s,{name:"reference",text:"Viite: ",type:"text",value:a,setValue:c}),e(s,{name:"barcode",text:"Virtuaaliviivakoodi: ",type:"text",value:p,disabled:!0,wideCol:!0}),d("button",{onClick:()=>{var x;return(x=navigator==null?void 0:navigator.clipboard)==null?void 0:x.writeText(p)},children:["Kopioi viivakoodi",e("br",{}),"leikep\xF6yd\xE4lle"]})]})})}const s=({children:i,name:n,text:o,type:l,value:t,setValue:r,disabled:a,constant:c,wideCol:u,decimals:m})=>d("div",{className:`row formRow ${n}Row`,children:[e(V,{name:n,text:o}),e(D,{type:l,name:n,value:t,setValue:r,disabled:a,constant:c,wideCol:u,decimals:m}),e(T,{children:i})]}),V=({name:i,text:n})=>e("div",{className:"col labelCol",children:e("label",{htmlFor:i,children:n})}),D=({type:i,name:n,value:o,setValue:l,disabled:t,constant:r,wideCol:a,decimals:c})=>(typeof o=="number"&&(o=Number(o.toPrecision(12))),c!=null&&(o=parseFloat(String(o)).toFixed(c)),e("div",{className:`col  ${a===!0?"wideValueCol":"valueCol"}`,children:e("input",{type:i,name:n,value:o,onChange:u=>l&&l(u.target.value),disabled:t!=null?t:r,className:`inputField ${r===!0?"constantField":""}`})})),T=({children:i})=>e("div",{className:"col unitCol",children:i});R.render(e(S.StrictMode,{children:e(I,{})}),document.getElementById("root"));
